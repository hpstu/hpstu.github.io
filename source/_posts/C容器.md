---
title: C++容器
top: false
cover: false
toc: true
mathjax: true
date: 2022-03-14 19:08:32
password:
summary:
tags:
categories:
- C++
- 容器
keywords:
description:
---

# C++容器

## vector

> vector是STL中最常见的容器，它是一种顺序容器，支持随机访问。vector是一块连续分配的内存，从数据安排的角度来讲，和数组极其相似，不同的地方就是：数组是静态分配空间，一旦分配了空间的大小，就不可再改变了；而vector是动态分配空间，随着元素的不断插入，它会按照自身的一套机制不断扩充自身的容量。

> vector的扩充机制：按照容器现在容量的一倍进行增长。vector容器分配的是一块连续的内存空间，每次容器的增长，并不是在原有连续的内存空间后再进行简单的叠加，而是重新申请一块更大的新内存，并把现有容器中的元素逐个复制过去，然后销毁旧的内存。

> vector数据结构，采用的是连续的线性空间，属于线性存储.

1. `vector`对象的定义和初始化

| 操作调用方式       | 操作说明                        |
| ------------------------------ | ------------------------------------------- |
| `Vector<T> v1; `      | `Vector`保存类型为T的对象。默认构造函数`v1`为空 |
| `Vector<T> v2(v1);`   | `V2`是`v1`的一个副本                            |
| `Vector<T> v3(n , i);` | `V3`包含n个值为i的元素                        |
|` Vector<T> v4(n); `   | `V4`含有值初始化的元素的n个副本               |

注：对C++的容器来说，动态添加元素的效率，要比直接静态初始化元素的效率高

例1.1 :声明一个int向量以替代一维的数组:`vector <int> a;`(等于声明了一个int数组a[],大小没有指定,可以动态的向里面添加删除)。

例1.2: 用`vector`代替二维数组.其实只要声明一个一维数组向量即可,而一个数组的名字其实代表的是它的首地址,所以只要声明一个地址的向量即可,即:`ector <int *> a`.

2. 对象的操作

| 操作调用方式    |操作说明          |
| -------------------------- | ---------------------------- |
| `v.empty()`      | 判断v是否为空                |
|` v.size() `      | 返回v中元素的个数            |
|` v.push_back(t)`   | 向v的末尾添加一个元素        |
|` V[n]     `        | 返回v中位置为n的元素         |
|` V1 = v2  `      | 把v1中元素替换为v2中元素副本 |
|` V1==v2    `     | 判断是否相等                 |
|` !=, <, <=, >, >=`| 直接用于vector对象的相互比较 |

 >1.push_back  在数组的最后添加一个数据
 >2.pop_back  去掉数组的最后一个数据 
 >3.at        得到编号位置的数据
 >4.begin      得到数组头的指针
 >5.end       得到数组的最后一个单元+1的指针
 >6．front    得到数组头的引用
 >7.back      得到数组的最后一个单元的引用
 >8.max_size   得到vector最大可以是多大
 >9.capacity    当前vector分配的大小
 >10.size      当前使用数据的大小
 >11.resize     改变当前使用数据的大小，如果它比当前使用的大，者填充默认值
 >12.reserve   改变当前vecotr所分配空间的大小
 >13.erase     删除指针指向的数据项
 >14.clear     清空当前的vector
 >15.rbegin    将vector反转后的开始指针返回(其实就是原来的end-1)
 >16.rend     将vector反转构的结束指针返回(其实就是原来的begin-1)
 >17.empty    判断vector是否为空
 >18.swap     与另一个vector交换数据